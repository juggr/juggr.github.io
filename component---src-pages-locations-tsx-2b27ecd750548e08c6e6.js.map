{"version":3,"file":"component---src-pages-locations-tsx-2b27ecd750548e08c6e6.js","mappings":"mNAwCA,UAhCqBA,IAAc,IAAb,KAAEC,GAAM,EAC5B,MAAMC,EAAYD,EAAKC,UAAUC,MAAMC,KAAKC,GAASA,EAAKC,OACpDC,EAAWN,EAAKO,MAAML,MAAMC,KAAKC,GAASA,EAAKC,OAE/CG,EAAqBP,EAAUE,KAAKM,IACxC,MAAMC,EAAkBC,EAAAA,KAAUC,GAASA,EAAKC,YAAYJ,SAASK,SAASL,EAASM,OAAOC,aAAtEL,CACtBA,EAAAA,KAAUC,GAASA,EAAKC,YAAYJ,UAApCE,CAA8CL,IAGhD,MAAO,IAAKG,EAAUF,MAAOG,EAAiB,IAG1CO,EAAkBN,EAAAA,IAAW,CACjCA,EAAAA,KAAWF,GAAaA,EAASF,MAAMW,SACvCP,EAAAA,KAAUF,GAAaA,EAASI,YAAYM,QAFtBR,CAGrBH,GAEH,OACEY,EAAAA,cAACC,EAAAA,EAAM,KACLD,EAAAA,cAAAA,KAAAA,KAAAA,kBAEAA,EAAAA,cAAAA,KAAAA,KACGH,EAAgBd,KAAKM,GACpBW,EAAAA,cAAAA,KAAAA,CAAIE,IAAKb,EAASM,OAAOQ,MACvBH,EAAAA,cAACI,EAAAA,KAAI,CAACC,GAAIhB,EAASM,OAAOQ,MAAOd,EAASI,YAAYM,MAAY,KAAGV,EAASF,MAAMW,OAAM,cAIzF,C","sources":["webpack://jug-goerlitz/./src/pages/locations.tsx"],"sourcesContent":["import React from \"react\"\n\nimport { graphql, Link } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\n\nimport * as R from \"ramda\"\n\nconst SpeakersPage = ({ data }) => {\n  const locations = data.locations.edges.map((edge) => edge.node)\n  const allTalks = data.talks.edges.map((edge) => edge.node)\n\n  const locationsWithTalks = locations.map((location) => {\n    const talksOfLocation = R.filter((talk) => talk.frontmatter.location.includes(location.fields.locationId))(\n      R.filter((talk) => talk.frontmatter.location)(allTalks) // it's possible that a talk has no location (yet)\n    )\n\n    return { ...location, talks: talksOfLocation }\n  })\n\n  const locationsSorted = R.sortWith([\n    R.descend((location) => location.talks.length),\n    R.ascend((location) => location.frontmatter.name),\n  ])(locationsWithTalks)\n\n  return (\n    <Layout>\n      <h2>Alle Locations</h2>\n\n      <ul>\n        {locationsSorted.map((location) => (\n          <li key={location.fields.slug}>\n            <Link to={location.fields.slug}>{location.frontmatter.name}</Link> ({location.talks.length} Talks)\n          </li>\n        ))}\n      </ul>\n    </Layout>\n  )\n}\n\nexport default SpeakersPage\n\nexport const query = graphql`\n  query {\n    locations: allMarkdownRemark(filter: { fields: { sourceName: { eq: \"locations\" } } }) {\n      edges {\n        node {\n          fields {\n            slug\n            locationId\n          }\n\n          frontmatter {\n            name\n            info\n            street\n            number\n            zip\n            city\n          }\n        }\n      }\n    }\n\n    talks: allMarkdownRemark(filter: { fields: { sourceName: { eq: \"talks\" } } }) {\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            location\n          }\n        }\n      }\n    }\n  }\n`\n\nexport { Head } from \"../components/head\"\n"],"names":["_ref","data","locations","edges","map","edge","node","allTalks","talks","locationsWithTalks","location","talksOfLocation","R","talk","frontmatter","includes","fields","locationId","locationsSorted","length","name","React","Layout","key","slug","Link","to"],"sourceRoot":""}